{% comment %}
  Pagination with page numbers and prev/next arrows.
  Use inside a paginate block: {% paginate collection.products by 12 %}{% render 'pagination-with-numbers' %}{% endpaginate %}
{% endcomment %}
{% if paginate.pages > 1 %}

  {% if paginate.previous %}
    <a href="{{ paginate.previous.url }}">&laquo; Previous</a>
  {% else %}
    <span>&laquo; Previous</span>
  {% endif %}

  {% assign count = paginate.pages %}
  {% for part in (1..count) %}
    {% if forloop.index == paginate.current_page %}
      <span>{{ forloop.index }}</span>
    {% else %}
      <a href="{{ collection.url }}?page={{ forloop.index }}">{{ forloop.index }}</a>
    {% endif %}
  {% endfor %}

  {% if paginate.next %}
    <a href="{{ paginate.next.url }}">Next &raquo;</a>
  {% else %}
    <span>Next &raquo;</span>
  {% endif %}

{% endif %}
